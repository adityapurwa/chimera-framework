verbose: true
vars:
    config: "{\"mongo_url\":\"mongodb://localhost/project-template\", \"table\":\"person\", \"history_table\":\"hperson\", \"deletion_flag_field\":\"deleted\", \"pk_field\":\"_id\", \"modification_field\":\"modif_on\", \"modifier_field\":\"modif_by\"}" 
    user: "u001"
    new_data: "{\"name\":\"Tono\"}"
    newer_data: "{\"name\":\"Toni Stark\"}"
series:
    - ("insert", config, new_data, user) -> node cck.js -> inserted_row1
    - (inserted_row1._id) -> echo -> pkValue1
    - ("getOne", config, pkValue1, user) -> node cck.js -> fetched_row
    - ("update", config, pkValue1, newer_data, user) -> node cck.js -> updated_row
    - ("insert", config, new_data, user) -> node cck.js -> inserted_row2
    - (inserted_row2._id) -> echo -> pkValue2
    - ("delete", config, pkValue2, user) -> node cck.js -> deleted_row
    - ("get", config) -> node cck.js -> all_rows
    - ins: all_rows, inserted_row1, fetched_row, updated_row, inserted_row2, deleted_row
      command: |
          (all_rows, inserted_row1, fetched_row, updated_row, inserted_row2, deleted_row) => {
              let output = '\n'
              output += ('* All Rows\n')
              output += JSON.stringify(all_rows)+'\n\n'
              output += ('* Inserted Row 1\n')
              output += JSON.stringify(inserted_row1)+'\n\n'
              output += ('* Fetched Row\n')
              output += JSON.stringify(fetched_row)+'\n\n'
              output += ('* Updated row\n')
              output += JSON.stringify(updated_row)+'\n\n'
              output += ('* Inserted Row 2\n')
              output += JSON.stringify(inserted_row2)+'\n\n'
              output += ('* Deleted row\n')
              output += JSON.stringify(deleted_row)+'\n\n'
              return output
          }
